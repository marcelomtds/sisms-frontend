<section class="content-header">
    <h1>{{ form.value.id ? 'Editar' : 'Cadastar' }} Crédito</h1>
</section>
<section class="content">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Dados do Crédito</h3>
                    <div class="box-body">
                    </div>
                    <form [formGroup]="form">
                        <div class="row">
                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                <div class="form-group">
                                    <label for="data">Data</label>
                                    <input id="data" mask="00/00/0000" [validation]="false" type="text"
                                        formControlName="data" class="form-control" (focus)="getDataAtual()" />
                                    <app-message-required [isInvalidForm]="isInvalidForm"
                                        [controlComponent]="form.get('data')">
                                    </app-message-required>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                <div class="form-group">
                                    <label for="valor">Valor</label>
                                    <input id="valor" maxlength="10" currencyMask
                                        [options]="{ align: 'left', suffix: '', prefix: '', thousands: '.', decimal: ',', allowNegative: 'false'  }"
                                        type="text" formControlName="valor" class="form-control" />
                                    <app-message-required [isInvalidForm]="isInvalidForm"
                                        [controlComponent]="form.get('valor')">
                                    </app-message-required>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                <div class="form-group">
                                    <label for="paciente">Paciente</label>
                                    <ng-select id="paciente" placeholder="Selecione" formControlName="pacienteId"
                                        [items]="pacientes" bindLabel="nomeCompleto" bindValue="id">
                                        <ng-template ng-option-tmp let-item="item">
                                            {{ item.nomeCompleto }}
                                            <br />
                                            <small>CPF: {{ item.cpf | cpf }}</small>
                                        </ng-template>
                                    </ng-select>
                                    <app-message-required [isInvalidForm]="isInvalidForm"
                                        [controlComponent]="form.get('pacienteId')">
                                    </app-message-required>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                <div class="form-group">
                                    <label for="formaPagamento">Forma de Pagamento</label>
                                    <ng-select id="formaPagamento" formControlName="formaPagamentoId"
                                        [items]="formasPagamento" bindLabel="descricao" bindValue="id"
                                        placeholder="Selecione">
                                    </ng-select>
                                    <app-message-required [isInvalidForm]="isInvalidForm"
                                        [controlComponent]="form.get('formaPagamentoId')">
                                    </app-message-required>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="form-group">
                                    <label for="observacao">Observação</label>
                                    <textarea trim="blur" style="resize: none" id="observacao" maxlength="200"
                                        type="text" rows="2" formControlName="observacao"
                                        class="form-control"></textarea>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="box-footer">
                    <button class="btn btn-primary pull-right" style="margin-left: 15px;"
                        (click)="onClickFormSubmit()"><em class="fa fa-save"></em>&nbsp;Salvar</button>
                    <button class="btn btn-danger pull-right" (click)="onClickCancelar()"><em
                            class="fa fa-ban"></em>&nbsp;Cancelar</button>
                </div>
            </div>
        </div>
    </div>
</section>